# Three Random Questions

1. Has Kimi lost a step?
2. Is Lewis bad off the start line?
3. Are statistics that look at positions gained or lost during the 1st lap useless, because drivers all started from different places on the grid?

Those three items are why I ended up doing this weird little study that tries to answer the following question:

## Is there a 'fair' way to rate a driver's starts, by looking at where they were grid and how often they gained, kept, or lost positions?

To answer this question involves answering three smaller questions:

1. Does grid position really matter?
2. If it does, can we measure its affect?
3. If we can, could we come up with a metric that accounts for it?
 
Let's start with the first.

## Does grid position really matter?

Logically, it should.  It's impossible to gain positions if you start at pole.  It's impossible to lose positions if you start last.  The further forward you start, the fewer cars you can pass.  The further back you start, the fewer cars will attempt to pass you.  First lap accidents can occur anywhere on the grid and you're more likely to take advantage of these the further back you start.  People will bring up the fact that grid position matters... but no one will ever argue that it doesn't matter.

Grid position matters. Next question.

## Can we measure it?

Yup... and Kimi's the reason why I looked at this.

Early in the 2017 season, I saw comments saying that Kimi's age was catching up to him.  I had just started re-watching F1 the in 2016 (after a long break away), so I really had no idea if this was true or not.  He *seemed* fine in 2016... and everyone says F1 is a sport that lets people remain productive for a long time.  But had age actually caught up to Kimi?

That led to an earlier (and unfinished) study that had very _tenuous_ results, so I decided to just drop it.  But by-products of that study were colorful little charts that were similar to the following.

![GKL_baseline_percentage](/images/baseline.png)

That chart was generated by looking at (almost) all the races between 2004 and 2017, and calculating how often drivers at each grid position were gaining, keeping, or losing their positions.  There are roughly 250 samples for each position, with the exceptions being 21st to 24th.  Not all seasons had an 11th or 12th team.

Drivers starting on pole have never gained a position (surprise!), kept 1st **78%** of the time, and lost 1st **22%** of the time.  Drivers grid 2nd move up to 1st about **14%** of the time, keep 2nd **48%** of the time, and lose 2nd **38%** of the time.  And so forth.

So the common opinions we have about grid spots do get reflected in these numbers.

1. It's easier to gain positions (and not lose positions) the further back you start on the grid.
2. The better side of the track (pole, 3rd, 5th, etc...) has a distinct advantage in overtaking and not being overtaken.

Of course these percentages will fluctuate from year-to-year.  There aren't a ton of datapoints in a single year.  Results where the drivers have a **DNFFL** (Did Not Finish First Lap) are dropped.  So there are seasons where there are only 14 or 15 usable samples for specific spots on the grid. Random chance and having stronger/weaker drivers concentrated at a specific position can also skew a single year's results.  Look at the grid percentage chart for the following un-named season in the 2010's.

![single_year](/images/unnamed_year.png)

Pole setters didn't do very well that year, mainly because of one driver.  At the same time, a strong group of starters were grid 8th, which explains why the results there are abnormally good. If you can name this season by just glancing at this chart, I'll be very impressed.  :)

So include enough years to get a good-sized sample, and the measured impact for each spot logically plays out to what's expected.

At the very [bottom of this article](#appendix-a---notes-on-what-data-was-used) are more details on why 2004 to 2017 was chosen, what races and results were included or excluded, etc etc...

On to the last question:

## Can we use this info to come up with a single number to compare drivers?

The answer is...
  
<br><br><br><br><br>
  
...kind of.   :)

Coming up with a single number that will absolutely say whether one driver's starts have been better than another's is >not< the intent of all this.  Without better data, I'd say it's actually impossible.  However, using the existing data, it **is** possible to get a **better** understanding of how well each driver did.

The true goal for all this isn't necessarily finding better answers.  It's finding better questions.

Let's start by looking at some early charts for the best starter of the 2000's... Alonso.

![Alonso's Expected vs Actual Results](/images/EvA_alonso.png)

First look at the chart on the right.  The green/gray/red bars show the number of times Alonso gained, kept or lost positions from each place where he started on the grid.  For example, when he started 5th he overtook someone **21** times, stayed in 5th **4** times, and lost his position **8** times.  In shorthand, that's a line of **21/4/-8**.  The [interactive](https://SemiRandomAnalysis.github.io/raa?layout=0&driver=alonso) version of that page lets you click or press each bar to get these exact numbers. 

Just by looking at this chart you can see that Alonso's got a **lot** more green than he does red.  That shows he's overtaking people way more than he's getting overtaken.  But what exactly does this mean?

That's where the chart on the left comes in.  Using the baseline percentages, we can calculate the number of times an _average_ driver would've gained, kept or lost those positions.

So, that's really it.  Come up with a baseline, measure how much success a driver had at each grid position, figure out what the average driver would've done, and calculate the difference.  

## So how accurate is this calculation?

To answer that, we have to first look at how **INACCURATE** we are when we look at the raw, unadjusted numbers.

Ignore the blurred parts in the following image and just pay attention to the names on the left and numbers on the right.

![Order_Actual](/images/order_actual_blur.jpg)

The right-most column (Actual Total/Season) ignores where they started on the grid and just counts up a driver's gains and subtracts their losses.  According to those calculations, we find the following: Glock comes out ahead of Alonso, Kobayashi does better than Massa, and both Kovalainen and Sutil are stronger than Michael and Kimi.

Hm... I don't know if any single one of these observations is wrong.  But having them **all** be true seems unlikely.

So, what happens if you continue using the raw numbers, but expand the table to include more drivers?

![Order_Actual_expanded](/images/order_actual_expanded_blur.jpg)

Alonso moves further down.  Massa's somewhere in the middle.  Kimi, Max and Michael are "barely" above average.

Um... no.

Taking a look at Glock's Expected vs Actual charts shows why the raw stats can be misleading.

![Glock chart](/images/glock.png)

Glock has absolutely gained positions **a lot more** times than he's lost.  His G/K/L (Gained/Kept/Lost) numbers look really good (**57/12/-22**).  However, most of his starts have been at the back of the grid, where drivers *should* be gaining more than they lose.

The other end of the grid deals with the exact opposite.

### Why raw stats penalize drivers who start up front

Instead of getting **too much** credit for their results, drivers on pole get **too little** credit. Here are the drivers with the best percentages for holding onto 1st (min. 10 starts, 1998 and above):

* [Alonso](https://SemiRandomAnalysis.github.io/raa?layout=0&driver=alonso&chartType=0&tableView=4), 22 starts from pole, only two losses **(91%)** 
* [Massa](https://SemiRandomAnalysis.github.io/raa?layout=0&driver=massa&chartType=0&tableView=4), 16 starts from pole, only one loss **(94%)** 
* [Kimi](https://SemiRandomAnalysis.github.io/raa?layout=0&driver=raikkonen&chartType=0&tableView=4), 17 starts from pole, **has never lost (100%)!**

If raw stats are used (gains minus losses), Kimi's the *only one* that doesn't get penalized.  Both Alonso and Massa get dinged for their losses.

That... doesn't... make... sense.

This issue is why you'll find Vettel's, Rosberg's and Hamilton's names at the bottom of [lists](/images/order_actual_blur.jpg) that use raw stats.  Spend too much time up front and a driver's numbers are going to most definitely be negative

This overvaluing and undervaluing is why most conversations related to this topic start and end with the following:

***"[DRIVER_NAME] is great at starts.  Just look at how many cars he overtakes!"*** <br>
***"But you can't say that.  He's always starting from the back."***

So instead of having the conversation end there, let's keep it going.

## Adjusting results for grid...AKA Races Above Average (RAA)

Once again, ignore the blurred parts of the table below.  The only important parts are the names on the left and numbers on the right.

![adjusted-ranking](/images/order_adjusted_blurred.jpg)

The **RAA** value takes each driver's gained/kept/lost results, calculates the *average* outcome at each grid position, determines how much better (or worse) the driver performed, and normalizes everything to a 20-race season.

Adjusting the results to a 20-race season gives us two benefits:

1. We can compare results across different years.
2. We can more easily digest the final numbers and compare each driver's results.

Between 2004 and 2017, we've had between 17 and 21 races a year.  So the unadjusted totals for 2009 (17 races) can't be directly compared to 2016 (21 races).  You could fix this by adjusting everything to a **per-race** measurement.  But, the normalized **per-season** numbers are values that are easier to wrap one's head around.

Heidfeld's numbers are a good example.  On a per-race basis, he's about **0.09** position-changes better than the average driver.  But Heidfeld's performance, normalized to a 20-race season, comes out roughly to **2** Races Above Average. So, which number is easier to visualize?  Heidfeld was **+0.09** per race?  Or Heidfeld was **+2 RAA** per season?

So, this was originally where I was going to leave things off at the mid-season break.  However, some of these findings were still a bit odd.

## Weird result - Glock's a below average starter?

Let's take another look at Glock's expected vs actual results:

![Glock chart](/images/glock.png)

As mentioned earlier, his G/K/L numbers (**57/12/-22**) look really good.  He's overtaken people 250% more often than he's lost positions.  He raced for over 5 years, so sample size shouldn't be an issue.  Why the heck is his initial RAA rating **-1.34**, which translates to a 'below-average' driver?

***Number of cars on the grid***

It makes a huge difference if you're grid 20th, when there are only 20 cars on the grid.  There's a 0% chance you'll lose positions.  Conversely, if you're grid 20th but there are 24 cars on the grid, there's a decent chance of being overtaken.  

Glock had a lot of starts around 20 or 21, when there were 24 cars on the grid.  In contrast, [KMag's](https://SemiRandomAnalysis.github.io/raa?layout=0&driver=kevin_magnussen) had a lot of starts in the 20's when there were only 20 or 22 cars on the grid.

The initial RAA calculations did **not** account for this.  The percentages for 20th mixed results from when there were 20, 21, 22, 23 and 24 cars on the grid.  If you look back at the initial [percentages chart](/images/baseline.png), you'll see that the results for the 2nd half of the grid do seem a bit off.

So how do we adjust for this?

We run the calculations backwards.

If there are 22 cars on the grid, the driver at 22nd is at position **0**.  The driver at 21st is at **-1** and the driver at 20th is at **-2**.  If there are **20** cars on the grid, 20th would instead be position **0**.  Etc Etc.  If you tally up the historical results in this reverse order, you end up with the following chart:

![Reverse_grid](/images/Reverse_grid_only.png)

That looks better.  The way gains and loses change when you go from right-to-left is more clean.  The better side now shows its statistical advantages (more overtakes, fewer losses).  So, how do we combine these two results?

We blend them.

For the first half of the field, use the results that start from pole.  For the second half of the field, use the reverse-grid percentages that started from the back.  The end-result is the following 'blended' chart:

![histogram_gkl_blended](/images/histogram_gkl_blended.png)

All that oddness starting from 11th gets cleaned up...and here's the [table](https://SemiRandomAnalysis.github.io/raa?layout=2&tableView=7&tableDriverView=2&tableSortCol=-1&tableSortDesc=true) that sorts the driver's by their blended **RAA** numbers.

![table_blended](/images/order_blended.jpg)

That still looks weird though.  Why's the top dominated by the current drivers?

Before getting into the last part of the G/K/L discussion, the next section will look at starts from a different angle.  By analyzing all this from another direction, we'll (hopefully) find more evidence to support what the numbers are saying.  But [here's a link](#why-do-the-current-drivers-dominate-the-top-of-the-blended-list) to skip ahead to the section that continues with the **RAA** explanation.

## Taking a different approach and why the numbers paint an imperfect picture

If you recall in the previous table, Ocon's RAA score tops out the list for active drivers.  A big caveat is that he's basically only got one season under his belt. But, his initial 20 starts were quite impressive; Ocon gained positions 16 times, kept his place 4 times and had **never lost a position in the first lap.**  He's also never had a DNFFL himself.  This is what his chart ends up looking like:

![EvA_ocon](/images/EvA_ocon.png)

That really is a clean, clean start to a driver's career; 20 starts, no losses.  I ran the numbers for all other drivers who's careers started in 1998 or later.  The only driver to match this streak is Yamamoto, who **never** lost a position in his entire (albeit short) 21-race career.  His lifetime record is **16/4/0** with 1 DNFFL.  The big caveat for this comparison is that Yamamoto never started better than 19th, while 30% of Ocon's races have begun in the top-10.

BTW, during this period, there's only one driver who's only had one loss in his first 20 races; Webber at **12/6/1** with 1 DNFFL.  That was a bit of a surprise, since his overall career numbers aren't great.

Let's take a deeper look at Ocon's starts.

### Looking at starts from another view

Using the official numbers, it's a 100% indisputable fact that for the first 20 races of his career, Ocon's never lost his position in the first lap.  However, rather than using numbers, why don't we actually take a look at his starts instead?

Let's start with what's likely to be the most memorable start of 2017, Singapore.  The start order had Sainz 10th, Perez 12th, and Ocon 14th

![Singapore_start_3sec](/images/start_singapore.3.sec.jpg)

3 seconds into this *controversial* start, Perez is already pulling up alongside Sainz.  Ocon also had a better start than Sainz and has also pulled to the side. Ocon succesfully completes this pass a few seconds later.

Let's look at Austria 2017.  Ocon started 9th, behind Max (5th) and Perez (7th).

![Austria_start_5sec](/images/start_austria.5.sec.jpg)

5 seconds after the start, Perez and Ocon both have taken advantage of Max's bad launch and are past him.  The pass itself might've involved some luck.  But, if you look at the separation to the cars behind them, neither FI car was in danger of being overtaken.

Three samples should be enough.  Let's use Silverstone 2017 as the last one.  Ocon started at 7th, behind Hulk (5th) and Perez (6th).

![Britian_start_3sec](/images/start_britian.3.sec.jpg)

By the 2nd turn, Ocon's already past both Perez and Hulk.  It's unclear why Ocon gave the position back to Hulk during the 1st lap yellow.  But, Ocon legitimately got past both Hulk and Perez... and ended the 1st lap ahead of Perez.

Anyway, Ocon was able to get this streak up to 23 races (Spa, Monza and Singapore) before ever actually losing a position.  However, that loss in Malaysia is the perfect example of why even these adjusted numbers will never give the full picture.

### It rains in ~~Spain~~ Malaysia

It had rained prior to the start of the race.  A wet track isn't necessarily a big deal, if **everyone** starts with limited traction.   However, some teams actually dried their grid spots while prepping the cars.  

Although the FIA has since clarified that drying grid spots is against regulations, up till Malaysia it apparently was not enforced.  The Force India team **clearly thought** it was against the rules and reported it to the stewards.  But, no official action or response was taken. So unfortunately, Ocon and Perez had to deal with a damp track, while the other teams (Mclaren, Mercedes and Red Bull?) had an easier time.

Snapshots of various stages of the start show the impact of this problem.

Lewis starts on pole. 2nd is empty because of Kimi's DNS.  The next five spots are Max, Ricciardo, Bottas, Ocon and Vandoorne.  Ocon's launch isn't the greatest and here's how things look 4 seconds after the start.

![4 seconds after start](/images/start_malaysia.4.sec.jpg)

Lewis, Max, Ricciardo and Bottas are pulling away from Ocon.  Vandoorne is just about to pull up alongside Ocon.  Let's jump to 9 seconds after the start.

![10 seconds after start](/images/start_malaysia.10.sec.jpg)

When Lewis begins braking for the 1st turn, part of Vandoorne's car is already past Ocon's.  Perez is nearly even with Ocon.  Massa, who had a fantastic start from 11th, is also nearly even with Ocon.

Now jump forward to 19 seconds after the start.

![19.5 seconds after start](/images/start_malaysia.19.5.sec.jpg)

Perez, Ocon and Massa go three-wide into turn 2.  At this point, Perez is slightly ahead of Ocon.  But a few seconds earlier, Ocon was actually ahead and might've been able to stay ahead.  But, Massa had already caught up and was directly to Ocon's right the whole time.  So, Ocon's position was going to be dictated by the two cars sandwiching him.  A few seconds later, Massa and Ocon make contact twice.

![21.5 seconds after start](/images/start_malaysia.21.5.sec.jpg)

After this contact, Perez easily gets away.  Massa ends up a bit sideways and gets overtaken by Stroll a few seconds later.

The official records will show that Ocon started at 6th and ended the first lap in 7th.  But, he started on a damp track.  But, he automatically gained one spot because of Kimi's DNS.  But, he also got squeezed and unfortunately had contact with Massa.  But, he also lost his place to two drivers, Perez and Vandoorne, that had better launches than him.  Lots of 'buts' there.

Anyway, that's enough of the frame-by-frame stuff.  The **RAA** numbers are saying Ocon's great at starts.  Visually analyzing a few of his starts also shows him doing well at starts.   More importantly, by digging into Ocon's start at Malaysia, we also covered why numbers will never provide the full picture.

Well actually, that last part isn't true.  If we had an "easy" way to get the full telemetry data for all 20+ drivers, we could do a proper analysis of all this.  But, I don't think that's happening anytime soon. :)

Let's return to the **RAA** and Gained/Kept/Lost statistics.

## Why do the current drivers dominate the top of the blended list?

A driver's skills and abilities determine many things at the start.  How quickly do they react to the lights?  How adept are they at seeing openings and putting their cars in the right place?  However, not everything is in their control.  In the race in Malaysia, Ocon automatically gained a spot because Kimi didn't start the race.  In a more general sense, if opponents in front of the driver have a **DNFFL (Did-Not-Finish-First-Lap)** for any reason, should those positions really be credited to a driver's starting abilities?

You can guess that the answer's no.  Let's start by looking at how DNFFLs have changed over time.

![DNFFL_per_year](/images/DNFFL_per_year.png)

There are huge fluctuations in how many DNFFLs have occurred in each season.  2011 and 2013 are examples of years where there were very **few** DNFFLs; only 6 each year.  On the other hand, 2017 is on pace to having a high number of DNFFLs; 12 in the first 11 races, so around 23 for the season.

So, why does a high (or low) DNFFL number matter in this study?

Because drivers in years where there are a "high" number of DNFFLs gain an artificially high number of positions.

BTW, it's more than just the number of DNFFLs; **where** they occur may be even more important.  2016 Spain.  Nico and Lewis have their incident at turn 4.  **Everyone** automatically gains 2 spots.  2017 Singapore; Seb, Max and Kimi.  Everyone automatically gains 3 spots.  

## Lucky DNFFLs and their affect on RAA

Everything in this study tries to account for grid position, so it only makes sense that opponent DNFFLs would as well.  This chart shows the likelihood of at least one opponent ahead of a driver having a first lap incident.

![Opponent DNFFL per grid](/images/Opponent_DNFFL_per_grid.jpg)

It plays out as expected.  The further back you are on the grid, the more likely an opponent in front of you will fail to complete the first lap.  The odd dip at the back occurs because there were only 3 years (2010 to 2012) with 24 cars on the grid.   Those 3 seasons just happened to have a lower-then-average # of DNFFLs.  Anyway, like the other grid-based adjustments, we can run a similar calculation for opponent DNFFLs per grid.

1. Count up how many times a car (or cars) in front of the driver had a DNFFL
2. Figure out how many times the 'average' driver at each grid spot encountered opponent DNFFLs.
3. Calculate the number of times the driver was lucky and gained or kept his position purely because of opponents ahead of him failing to complete the first lap (hence the term **Lucky DNFFLs**)
4. Take these numbers, adjust them for the normalized 20-race season, and adjust the driver's RAA value to account for how much luckier (or unluckier) he was with these Lucky DNFFLs.

Here's a partial view of the table with these adjustments.

![Opponent DNFFL calculation](/images/Opponent_DNFFL_calculation.jpg)

The complete table can be found [here](https://SemiRandomAnalysis.github.io/raa?layout=2&tableView=6&tableDriverView=1&tableSortCol=-1&tableSortDesc=true).

According to the data, Ocon's been the luckiest driver for opponent DNFFLs (**oDNFFLs**).  Based on his grid positions, he should've seen about **5** oDNFFLs in front of him, but actually saw twice as many (**10**).  Going through his first 20 races, he got lucky **4** times and gained a position when someone ahead dropped out.  So when we adjust his Lucky DNFFLs to account for all those extra opportunities, Ocon's RAA number drops by **1.8**.

Webber, on the opposite end, has been unlucky.  He should've seen around **16** DNFFLs in front of him, but only saw **8**.  Based on his low number of opponent DNFFLs, Webber's per-season RAA number gets bumped up by **0.32**.

For a few of the exceptionally fortunate drivers, I've included [versions](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=ocon&driver2=ocon_(minus_Lucky_DNFFLs)) of their [charts](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=ericsson&driver2=ericsson_(minus_Lucky_oDNFFLs)) that have these [lucky](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=jolyon_palmer&driver2=jolyon_palmer_(minus_Lucky_oDNFFLs)) outcomes removed.

BTW, if this **oDNFFL** part seems a bit convoluted, it's because it **is annoyingly** overly complicated.  However, simplifying things would require re-running all the calculations, starting from the baseline percentages.   Perhaps I'll take that approach if I redo the code and actually hook things up to a live backend.  Or perhaps not...

## The Final metric for this study: RAA (blended + Lucky DNFFLs)

So, this study looked at grid position, number of drivers on the grid, and opponent DNFFLs.  The end result is the following table, sorted by the driver's with the highest RAA numbers starting the top.

![RAA_table_summary](/images/RAA_table_summary.jpg)

You can see the complete table [here](https://SemiRandomAnalysis.github.io/raa?layout=2&tableView=1&tableSortCol=6&tableSortDesc=true).  Obviously there are no hard definitions of what it means to be a bad, good, or great starter.  But the following boundaries seem to be reasonable terms.

* If a driver's below **-1 RAA**, they've had issues with starts.  (More on Ricciardo later)
* If a driver's between **-1 to 1 RAA** (Button, Rosberg), they're probably okay.
* Between **1 and 3 RAA**, that's when you start looking at good or really good starters.
* Go past **3 RAA** and that's when the commonly recognized "best" starters start to appear.  This is where you'll find Kimi and Massa.
* Beyond **5 RAA** and you're left with Alonso and two super-small-sample-size guys, Ocon and Speed.

## Let's look at specific drivers

Enough with the writing.  The whole reason I threw together [this other page](https://SemiRandomAnalysis.github.io/raa) was to let you actually play around with the charts and numbers yourselves and hopefully come up with observations of your own.  I know for a fact, that what I >think< I understand about this topic is dwarfed by what I don't know.  I seriously hope that made sense. :)

Let's start with the biggest surprise to me.

Have people ever brought up Ricciardo's starts?  His [career numbers](https://SemiRandomAnalysis.github.io/raa?layout=0&driver=ricciardo) aren't very good.  But if you split up his career and compare each half, you get the following:

![Ricciardo](/images/h2h_ricciardo_early_vs_later.png)

So his problems all occured during the [early part of his career](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=ricciardo_(2011_to_2014)&driver2=ricciardo_(2015_to_2017)).  Based on his recent results, he's a decent starter now.

Continuing on the idea of early career challenges, a bunch of drivers improve on their numbers if you drop their rookie season.  Some ([Bottas](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=bottas&driver2=bottas_(skip_Rookie_year))) go from bad to OK.  Some (like [Hulkenberg](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=hulkenberg&driver2=hulkenberg_(skip_Rookie_year))) go from good to a little more good.  And some (like [Perez](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=perez&driver2=perez_(skip_Rookie_year)) and [Max](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=max_verstappen&driver2=max_v_(skip_Rookie_year))) go from good to really, really great.

![Max](/images/h2h_max_skip_rookie.png)

The RAA calculations are likely still undervaluing the results for people who primarily start on pole.  Lewis's [career numbers](https://SemiRandomAnalysis.github.io/raa?layout=1&driver=hamilton) look good. Not great, but pretty good.  However, Lewis's numbers during his first four years, when his grid positions weren't so pole-heavy, compare favorably to both [Kimi's](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=hamilton_(2007_to_2010)&driver2=raikkonen) and [Massa's](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=hamilton_(2007_to_2010)&driver2=massa) numbers.  Hm...

![Lewis_vs_Kimi](/images/h2h_lewis_vs_kimi.png)

Let's expand on this subject and dive into Seb's numbers.  Here's the top of his grid table.

![grid_seb_top](/images/grid_seb_top.png)

**25%** of Seb's races (48 out of 190) have started from pole.  The grid-adjusted numbers give him credit for *losing fewer* times than expected; **1.67 losses better** to be precise.  But, for **25%** of his starts, it's been impossible for him to improve his 'gained' statistics.  Have a great start from any other spot and you gain positions.  Have a great start from pole and you... keep your position.

Michael's results during his comeback years might also be exhibiting this inbalance.

![michael_h2h](/images/h2h_michael.png)

During his [comeback](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=michael_schumacher_(2004_to_2006)&driver2=michael_schumacher_(2010_to_2012)), his RAA numbers go up dramatically.  The majority of this improvement is through overtaking people more often.

The other version of this study, the one that takes into account the actual number of places gained or lost, does a better job at accounting for pole-heavy drivers.  Although it's unfinished, Lewis, Rosberg and Michael all move up a bit in that alternate analysis.  But then again, that study has [problems of its own](#appendix-b---an-unsolved-challenge-when-using-the-actual-number-of-positions-that-changed).

However, there's another possible explanation for Michael's low RAA numbers between 2004 and 2006; he was constantly grid amongst really strong starters.

For example, in the 11 instances when he started 2nd, Michael was behind the following drivers on pole:

* Alonso 3 times
* Massa 2 times
* Kimi 2 times
* Button 2 times
* Trulli (Renault) once
* Barrichello once

Good luck trying to pass that group!!

These were the drivers Michael had to pass whenever he started on the first two rows.  So, it shouldn't be a big surprise that between 2004 and 2006, Michael never gained a **single position**, when he started 4th or better.  So, strength of the immediate competition might be contributing to his lower numbers.

No screenshots or analysis for the following comparisons.  But I think they point to some interesting stories.

1. [Massa pre-accident vs Massa post-accident](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=massa_(2004_to_2009)&driver2=massa_(2010_to_2017))
2. [Trulli in 2004 vs Trulli from 2005 and above](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=trulli_(2004_Renault)&driver2=trulli_(2005_to_2012))
3. [Vettel's first 3 years vs Vettel's entire career](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=vettel_(2007_to_2009)&driver2=vettel)
4. [Lewis in 2007 to 2010 vs Lewis in 2011 to 2013](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=hamilton_(2007_to_2010)&driver2=hamilton_(2011_to_2013))
5. [Alonso at Ferrari vs Alonso at McLaren](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=alonso_(2010_to_2014)&driver2=alonso_(2015_to_2017))

Lastly, let's end with something about Kimi.  He's partially responsible for why I looked at all this.  People wax-poetic about Alonso's Renault days but [Kimi, in those same years, was pretty awesome too!!](https://SemiRandomAnalysis.github.io/raa?layout=3&driver=alonso_(2004_to_2006)&driver2=raikkonen_(2004_to_2006))

![alonso_vs_kimi](/images/h2h_alonso_vs_kimi.png)

## Conclusions

Just to recap, this study evaluated each driver's starts and adjusted those numbers for the following:

1. Grid position
2. Number of cars on the grid
3. Number of opponents that fail to finish the first lap (**DNFFL**) ahead of the driver

There really aren't any major surprises.  Good-side vs bad-side of the track makes a difference.  The further back, the easier it is to overtake or protect one's position.  The empirical data really does align nicely with common sense.  Hopefully by trying to move things forward, we can start looking at the next set of questions.

Obviously the big one is looking at the actual **number** of positions gained or lost for each race.  Moving up a few rows is harder than moving up one spot.  However, using position counts comes with a huge flaw that I've covered [down below](#appendix-b---an-unsolved-challenge-when-using-the-actual-number-of-positions-that-changed).  After looking at Michael's results in the 2000's, Strength-of-Field looks like a good adjustment to make as well.  I don't know if there's enough information to actually account for qualifying fuel loads, weather, or tire selection, but those must play a part too.  

So, let me know if you see anything odd.  I've spot checked the results when I've seen something unexpected.  But, we're dealing with nearly 5,500 individual race results.  So, there's a non-zero chance that a bug or error has crept in someplace.  But AFAICT, the commonly viewed 'good' and 'bad' drivers are showing up at their expected places. 

But seriously, we can just come up with random start-related stats and the names of certain drivers will almost always appear at the top.

Here's one.

**Since 2004, who's moved up from 5th to 2nd the most times?**

Alonso and Massa lead with each doing it twice, followed by KMag, Kimi and Max doing it once.

**Since 2004, who tops the list for moving up at least 2 places, while starting on the bad side of the track?**

Alonso (21 times), Button (Button!! 20 times) and Massa (19 times)

**Since 2004, who's the leader at overtaking 50% of the field in front of them in races that were held on a date that was odd (1,3,5,etc..)?**

It's not Alonso... it's Massa with 6 times!!

<br><br><br><br><br>

Followed by Alonso doing it 5 times.

Did I go off on a tangent?  That's it.  End of post.

:)

Later,

TK

<br><br><br>
### Appendix A - Notes on what data was used 

* Everything's pulled from the [Ergast DB Project](https://ergast.com/mrd).  It's fantastic what they're doing for the community.  If you're interested in F1 stats and know SQL, you should grab the latest image.  If you're interested in F1 stats and ***don't*** know SQL, you should still download the latest image... and use it to learn SQL. :)
* All races from the start of the 2004 season up to (and including) Hungary 2017 were used, except for the following:
  * Results from the controversial 2005 USGP were dropped
  * Reverse-order results (0,-1,-2...) exclude starts where there were an odd-number of cars on the grid.  In grids with an odd-number, the last (0-th) car is alone and starting on the good side.  Conversely, if you're last and there are two cars on the back row, you'll be starting on the bad side. Luckily, only 7 races were dropped.  There were 23 cars twice, 21 cars once, 19 cars three times, and 17 cars once.
* Limiting race results to 2004 and above does mean we miss the first few years of some of the drivers (Alonso, Button, Massa, Webber, etc...) 
* But adding those extra years into the baseline would mean mixing in results from the launch control era
  * 1990's - launch control allegedly used by certain teams
  * 2001 - launch control officially approved (first used in 2001 Spain)
  * 2004 - launch control banned
  * 2008 - traction control banned
  * 2010 - in-race refueling banned
  * 2015 - Starting in Spa, engineers were banned from helping drivers figure out the optimal bite-point for the double-clutch launch
  * 2016 - the technique allowing for double-clutch launches banned
* Although the other rule changes likely affected start results, nothing could come close to the impact of launch control technology.  For example, Button put up insane numbers in 2001 (Benetton) and 2002 (~~Benetton~~Renault).  Although the baseline isn't calibrated for those years, his Gained/Kept/Lost record of **27/2/-2** translates into an **8+ grid-adjusted RAA** score.  After the end of 2002, his RAA scores never got close to that level again.  Ralf also put up career highs during the LC era.  It might be fun to do a study at some point on who benefited the most from the LC cars.
* Although a driver's **DNFFL** (Did-Not-Finish-First-Laps) numbers are shown, they aren't used when calculating how well they did off the start line.  But I've included them in the tables, because they *might* help identify 'crash-prone' starters.
  * The difference between the drivers with the most DNFFLs (Palmer, Hulk and Kobayashi) versus the drivers who have **never** had a DNFFL (Guttierez, Vergne, Ocon, Bottas and Kubica) is roughly 2 races per season.
  * And of course, the expected **DNFFL** values are adjusted for grid position.  Drivers starting in the middle of the grid have a slightly higher chance at failing to finish the first lap. :)

<br><br><br>
### Appendix B - An unsolved challenge when using the actual number of positions that changed

So, this current study only takes into account **how often** a driver was gaining, keeping, or losing positions.  It does not take into account **how many** positions were gained or lost.  This alternate study was in fact something I was doing alongside this one.   At the mid-season break, it was 50/50 which study I'd wrap up first.   Massa's chart in the position-count study is why I paused it.

![Massa_actual_positions](/images/massa_actual_positions.png)

The green and red bars in that chart show the actual number of positions that changed.  Like the other chart, DNFFLs are dropped from the results.

Let's focus on how Massa did from 6th.  He gained 14 positions and lost 53 positions.  So over his career, he's lost 39 positions while grid 6th.  That means he did poorly from there, right?

Let's go a bit deeper.  Massa started in 6th 26 times and here's each individual outcome.

| Positions Changed | # of Times |
| :---: | :---: |
| +3 | 1 |
| +2 | 1 |
| +1 | 9 |
| 0  | 8 |
| -1 | 1 |
| -2 | 1 |
| -3 | 2 |
| -11| 1 |
| -15 | 1 |
| -18| 1 |

<br>

Hm... so he moved up 11 times, kept his position 8 times, and lost 7 times. If you've read the rest of this, you'll hopefully see that a line of **11/8/7** is pretty good for someone starting 6th.   So, what's happening here?

It's the big losses at the bottom.

Those are races where something "bad" happened, but he was still able to complete the first lap.  If he hadn't been able to complete the first lap, those would be DNFFLs and ignored.  So, let's look at what happened during these bad starts.

Massa lost 18 positions in the first lap during the 2010 Canadian GP.   Massa (6th) tangled with Liuzzi (who started 5th) and they made contact around turn 3.   As a result of this battle, Liuzzi was spun (and something happened to Massa as well).  Which meant they were the last two cars (23 and 24) to finish the first lap.  So, does it make sense that this single loss (-18) wipes out the 11 races where Massa gained a total of 14 positions?

The -15 position race occurred at the 2013 Korean GP.  The situation was similar to the race in Canada.  Massa was tangling with someone (Rosberg?), got spun around and ended up at the back of the pack.

The -11 position race is slightly different. At the 2015 race in Bahrain, Massa was unable to get off the line to join the formation lap and had to start the race from the pitlane.   **IF** he'd had the problems before being on the grid, he would've been officially listed as starting from the pitlane.  Starts from the pitlane obviously should be ignored, so this "-11 position" result would've been dropped.  But, since he's listed as starting from 6th and succesfully completed the first lap in 17th, his official stat is 11 positions lost.

Anyway, all of the above are what I call **pseudo-DNFFLs**.  These are scenarios where:

1. The driver completes the first lap
2. Something occured that compromises their start
3. Official, structured data does not provide the "right" information to let us programatically determine how to handle them.

We could individually go in and try to fix this data.  But, if we add a subjective element to all this, it gets harder to separate objective from subjective results in the future.  

For a more recent example of pseudo-DNFFLs, let's look at Botta's first 11 races in the 2017 season.

![bottas_actual_positions](/images/bottas_actual_positions_2017.png)

Bottas's net positions gained was **-14** before the mid-season break.  That makes him one of the worst starters this year, right?  Just look at how poorly he's done from 2nd; 18 positions lost?

Um... however...

That entire 18-position loss happened at the race in Baku. He started 2nd, tangled with Kimi in the second corner, suffered damage, had to pit for a new nose and tires, and ended up starting the 2nd lap in last place (20th).  In Bottas's 10 other starts, he gained two spots twice and kept his position 8 times.  So, he's technically only 'lost' positions once in 2017.

Given where Bottas has started, a **G/K/L** line of **2/8/1** doesn't really translate to a driver with bad starts.  Maybe he should've gained a few more positions, but he's also not losing positions very often.  But because of this single pseudo-DNFFL, his positions gained vs positions lost numbers for 2017 just aren't going to come out looking good.

Anyway, not having a good or reasonable answer for how to handle pseudo-DNFFLs is why I put a pause to the position-count study.  There are some interesting findings there though.  Based on the early results, Alonso's 2004 or 2006 seasons do >not< come out on top.  That honor goes to...

<br><br><br>

:)
